doctype html
html(lang="en", ng-app="ohe")
  head
    meta(charset="utf-8")

    title &Omega;
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    meta(name="csrftoken", id="csrftoken", data-token=_csrf)
    - if (is_authenticated)
      meta(name="user", id="user", data-id=user.id, data-username=user.username)
    link(href=assets.url("/static/bootstrap/css/bootswatch.cerulean.min.css"), rel="stylesheet")
    link(href=assets.url("/static/bootstrap/css/bootstrap-responsive.css"), rel="stylesheet")
    link(href=assets.url("/static/angular-ui/angular-ui.css"), rel="stylesheet")
    link(href=assets.url("/static/select2/select2.css"), rel="stylesheet")
    link(href=assets.url("/static/css/ohe.css"), rel="stylesheet")
    link(rel=assets.url("apple-touch-icon-precomposed"), href=assets.url("/static/images/apple-touch-icon.png"))

    // HTML5 shim, for IE6-8 support of HTML5 elements
    // [if lt IE 9]>
      script(src="http://html5shim.googlecode.com/svn/trunk/html5.js")
    // [endif]

    script(src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.js")
    script(src=assets.url("/static/underscore/underscore.js"))
    script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.4/angular.js")
    script(src=assets.url("/static/angular-ui/angular-ui.js"))
    script(src=assets.url("/static/bootstrap/js/bootstrap.js"))
    script(src=assets.url("/static/select2/select2.js"))
    script(src=assets.url("/static/js/utils.js"))
    script(src=assets.url("/static/js/file_upload.js"))
    script(src=assets.url("/static/js/socket.js"))
    script(src=assets.url("/static/js/nav.js"))
    script(src=assets.url("/static/js/messages.js"))
    script(src=assets.url("/static/js/users.js"))
    script(src=assets.url("/static/js/channel-state.js"))
    script(src=assets.url("/static/js/channels.js"))
    script(src=assets.url("/static/js/ohe.js"))

  body
    div.navbar.navbar-inverse.navbar-fixed-top
      div.navbar-inner
        div.container
          a.brand(href="/") &Omega;&nbsp;&nbsp;&nbsp;App.net
          - if (is_authenticated)
            nav

    - if (!is_authenticated)
      div.container
        h1 Welcome to &Omega;
        a(href=auth_url, target="_self") Please log in with App.net &rarr;
    - else
      div(ng-include="'/static/templates/alerts.html'")
      div.view(ng-view)
